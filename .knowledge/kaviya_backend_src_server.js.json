{"is_source_file": true, "format": "JavaScript", "description": "This file is the main server setup for a Node.js Express application. It configures middleware such as CORS and JSON parsing, sets up basic health check routes, integrates API routes, handles errors globally, and manages database connection startup with fallback behavior.", "external_files": ["./routes/index.js", "./config/db.js", "./utils/errors.js"], "external_methods": ["connectDB", "getMongoUri", "errorHandler"], "published": ["app"], "classes": [], "methods": [{"name": "app.get", "description": "Defines the health check endpoint at root path '/' that responds with a 'Healthy' message."}, {"name": "app.use", "description": "Applies middleware functions for CORS, JSON parsing, route handling, and error handling."}, {"name": "connectDB", "description": "Connects to the MongoDB database using the provided URI."}], "calls": ["cors()", "express.json()", "app.get", "app.use", "connectDB", "app.listen", "console.log", "app.get('/healthz')"], "search-terms": ["server.js", "Express server setup", "MongoDB connection", "CORS configuration", "Health check endpoint"], "state": 2, "file_id": 14, "knowledge_revision": 42, "git_revision": "354f392618d915d895614a52c5282882f6077677", "revision_history": [{"29": ""}, {"36": "f5f1ab800a5d8d9f9e5f28a827169affadd1ab9e"}, {"42": "354f392618d915d895614a52c5282882f6077677"}], "ctags": [{"_type": "tag", "name": "MONGODB_URI", "path": "/home/kavia/workspace/code-generation/kaviya-kids-learning-hub-263928-263939/kaviya_backend/src/server.js", "pattern": "/^const MONGODB_URI = getMongoUri();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "PORT", "path": "/home/kavia/workspace/code-generation/kaviya-kids-learning-hub-263928-263939/kaviya_backend/src/server.js", "pattern": "/^const PORT = parseInt(process.env.PORT || '3001', 10);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "allowedOrigins", "path": "/home/kavia/workspace/code-generation/kaviya-kids-learning-hub-263928-263939/kaviya_backend/src/server.js", "pattern": "/^const allowedOrigins = rawOrigins.split(',').map(s => s.trim()).filter(Boolean);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/kaviya-kids-learning-hub-263928-263939/kaviya_backend/src/server.js", "pattern": "/^const app = express();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "rawOrigins", "path": "/home/kavia/workspace/code-generation/kaviya-kids-learning-hub-263928-263939/kaviya_backend/src/server.js", "pattern": "/^const rawOrigins = process.env.ALLOWED_ORIGINS || 'http:\\/\\/localhost:3000';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "useWildcard", "path": "/home/kavia/workspace/code-generation/kaviya-kids-learning-hub-263928-263939/kaviya_backend/src/server.js", "pattern": "/^const useWildcard = allowedOrigins.includes('*');$/", "language": "JavaScript", "kind": "constant"}], "hash": "2f9a9f1d9541037e694e1854df781d07", "format-version": 4, "code-base-name": "kaviya_backend", "filename": "kaviya_backend/src/server.js"}