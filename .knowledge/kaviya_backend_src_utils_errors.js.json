{"is_source_file": true, "format": "JavaScript", "description": "This file defines custom error classes and middleware functions for handling errors in an Express.js application, including ApplicationError class, errorHandler middleware, and asyncHandler helper.", "external_files": ["express"], "external_methods": ["res.status", "res.json", "next", "Promise.resolve"], "published": ["errorHandler", "asyncHandler"], "classes": [{"name": "ApplicationError", "description": "Custom error class extending Error with additional fields for code, statusCode, and details, and a method to format the error response."}], "methods": [{"name": "ApplicationError.constructor", "description": "Initializes an ApplicationError instance with message, code, statusCode, and optional details."}, {"name": "ApplicationError.toResponse", "description": "Formats the error into a JSON response object."}, {"name": "errorHandler(err, req, res, next)", "description": "Express middleware to handle errors; distinguishes ApplicationError instances and provides a fallback for unknown errors.", "scope": "", "scopeKind": ""}, {"name": "asyncHandler", "description": "Wraps async route handlers to catch and forward errors to Express error handling."}, {"name": "constructor(message, code = 'INTERNAL_ERROR', statusCode = 500, details = undefined)", "scope": "ApplicationError", "scopeKind": "class", "description": "unavailable"}, {"name": "toResponse()", "scope": "ApplicationError", "scopeKind": "class", "description": "unavailable"}], "calls": ["res.status", "res.json", "next", "Promise.resolve"], "search-terms": ["ApplicationError", "errorHandler middleware", "async route handler", "Express error handling", "custom error class"], "state": 2, "file_id": 6, "knowledge_revision": 13, "git_revision": "", "ctags": [{"_type": "tag", "name": "ApplicationError", "path": "/home/kavia/workspace/code-generation/kaviya-kids-learning-hub-263928-263939/kaviya_backend/src/utils/errors.js", "pattern": "/^export class ApplicationError extends Error {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "asyncHandler", "path": "/home/kavia/workspace/code-generation/kaviya-kids-learning-hub-263928-263939/kaviya_backend/src/utils/errors.js", "pattern": "/^export const asyncHandler = (fn) => (req, res, next) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "code", "path": "/home/kavia/workspace/code-generation/kaviya-kids-learning-hub-263928-263939/kaviya_backend/src/utils/errors.js", "pattern": "/^        code: this.code,$/", "language": "JavaScript", "kind": "property", "scope": "ApplicationError.toResponse.resp.error", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/kaviya-kids-learning-hub-263928-263939/kaviya_backend/src/utils/errors.js", "pattern": "/^  constructor(message, code = 'INTERNAL_ERROR', statusCode = 500, details = undefined) {$/", "language": "JavaScript", "kind": "method", "signature": "(message, code = 'INTERNAL_ERROR', statusCode = 500, details = undefined)", "scope": "ApplicationError", "scopeKind": "class"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/kaviya-kids-learning-hub-263928-263939/kaviya_backend/src/utils/errors.js", "pattern": "/^      error: {$/", "language": "JavaScript", "kind": "class", "scope": "ApplicationError.toResponse.resp", "scopeKind": "class"}, {"_type": "tag", "name": "errorHandler", "path": "/home/kavia/workspace/code-generation/kaviya-kids-learning-hub-263928-263939/kaviya_backend/src/utils/errors.js", "pattern": "/^export function errorHandler(err, req, res, next) {$/", "language": "JavaScript", "kind": "function", "signature": "(err, req, res, next)"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/kaviya-kids-learning-hub-263928-263939/kaviya_backend/src/utils/errors.js", "pattern": "/^        message: this.message$/", "language": "JavaScript", "kind": "property", "scope": "ApplicationError.toResponse.resp.error", "scopeKind": "class"}, {"_type": "tag", "name": "resp", "path": "/home/kavia/workspace/code-generation/kaviya-kids-learning-hub-263928-263939/kaviya_backend/src/utils/errors.js", "pattern": "/^    const resp = {$/", "language": "JavaScript", "kind": "class", "scope": "ApplicationError.toResponse", "scopeKind": "class"}, {"_type": "tag", "name": "toResponse", "path": "/home/kavia/workspace/code-generation/kaviya-kids-learning-hub-263928-263939/kaviya_backend/src/utils/errors.js", "pattern": "/^  toResponse() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "ApplicationError", "scopeKind": "class"}], "hash": "3a515191d73139973a2d0ac847bfc92c", "format-version": 4, "code-base-name": "kaviya_backend", "filename": "kaviya_backend/src/utils/errors.js", "fields": [{"name": "code: this.code,", "scope": "ApplicationError.toResponse.resp.error", "scopeKind": "class", "description": "unavailable"}, {"name": "message: this.message", "scope": "ApplicationError.toResponse.resp.error", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"13": ""}]}